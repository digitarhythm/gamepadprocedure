gamepadprocedure
================
このライブラリの動作推奨環境はFirefox＋XBOX360コントローラーです。

ライブラリを読み込むと、「gamepadProcedure()」という関数が使えるようになります。
ループ処理内でこの関数を呼び続けることで、リアルタイムにゲームパッドの情報を取得することが出来ます。

pads = gamepadProcedure()

上記のように呼ぶと、「pads」という配列に接続されているゲームパッドの数だけ配列が格納されています。
「pads[0]」ならゲームパッド0という感じです。

pad0 = pads[0]

上記の「pad0」には、ボタンと方向ボタン、XBOX360コントローラーの場合はアナログスティックの情報が配列で格納されています。

buttons = pad0.padbuttons
axes = pad0.padaxes
astick = pad0.analogstick

上記のように各情報が取り出せます。

「buttons」には13個のボタン情報が格納されています。
buttons[0]〜[3]は、ゲームパッド右側にある4つのボタン情報が入っています。(boolean)
buttons[4]、[5]は、XBOX360コントローラーのLB、RBボタンになります。(boolean)
buttons[6]、[7]は、XBOX360コントローラーのBack、Startボタンになります。(boolean)
buttons[8]、[9]は、XBOX360コントローラーではLT、RTの値がアナログ値で取得出来ます。XBOX360コントローラー以外ではboolean値になります。
buttons[10]、[11]は、XBOX360コントローラーのふたつあるアナログスティッククリックになります。[10]が左で、｢11]が右になります。
buttons[12]は、XBOX360コントローラーのセンターボタンになります。XBOX360コントローラー以外では常に0が格納されています。

「axes」は0にX方向、1にY方向の情報が入っています。
axes[0]は、方向キーの左が押された場合は「-1」、右が押された場合は「1」が入ります。
axes[1]は、方向キーの上が押された場合は「-1」、下が押された場合は「1」が入ります。

astickも方向キーと同様に、0にX方向、1にY方向の値が入っています。
アナログスティックの値が-1.0もしくは、1.0になるとそれに対応する方向キーが押されたことになってしまいます。

アナログ値は、スティックの状態により、0.0〜1.0の間の値が入ります。

この関数で返ってくる「axes」と「buttons」にはキーボードの状態も格納されています。
ゲームパッドを繋いでいようがいまいが、キーボードのカーソルキーの上下左右の状態がaxesに設定されます。
また、ボタン0〜7がキーボードの「z」キーから右へ順番に対応しています（カンマがボタン7になります）。

このライブラリでゲームを作っておくと、ゲームパッドが繋がっていない時はキーボードで、繋がっていればゲームパッドで遊ぶことが出来ます。

